<!-- https://getbootstrap.com/docs/4.0/components/forms/ -->
<div class="external-container">
  <section>
    <div class="split left">
        <app-fullmap id=left></app-fullmap>
    </div>
    <div class="split right">
        <div class="container" id=container>
            <div class="row text-black">
                <div id=form class="col-sm-10 offset-sm-1 text-center">
                  <h2 class="display-4 mb-4 text-center mt-3">Crea</h2>
                    <div class="info-form mt-6">
                      <form class="form-inlin justify-content-center" #f="ngForm" (ngSubmit)="onSubmit(f)">
                        <div class="form-row">
                          <label>Titulo</label>
                          <input type="text" class="form-control" [(ngModel)]="marker.titulo" name="titulo" placeholder="Escribe el título..." required #titulo="ngModel">
                          <div *ngIf="!titulo.valid" class="alert">
                            campo obligatorio
                          </div>
                          <!-- <div class="col-md-4 mb-3">
                            <input type="text" class="form-control" id="exampleFormControlInput1" placeholder="Escribe palabras clave..." required>
                          </div> -->
                        </div>

                        <!-- <div class="custom-file">
                          <input type="file" class="custom-file-input" id="inputGroupFile01">
                          <label class="custom-file-label" for="inputGroupFile01">Busca una imagen</label>
                        </div> -->

                        <div class="form-row mt-3">
                          <label>Descripcion</label>
                          <textarea class="form-control" rows="3" [(ngModel)]="marker.descripcion" name="descripcion" placeholder="Describe el tag..." required #descripcion="ngModel"></textarea>
                          <div *ngIf="!descripcion.valid" class="alert">
                            campo obligatorio
                          </div>
                        </div>

                        <div id=selector>
                          <label>Categoria</label>
                          <select name="tipo" class="form-control" [(ngModel)]="marker.tipo" required #tipo="ngModel">
                            <option *ngFor="let tipo of tipos" [value]='tipo'>{{tipo}}</option>
                          </select>
                          <div *ngIf="!tipo.valid" class="alert">
                            campo obligatorio
                          </div>
                        </div>

                        <div class="text-left">
                          <label class="mt-3">Coordenada (marca en el mapa)</label>
                          <div class="form-row mt-1" style="margin-bottom:-16px;">
                            <div class="form-group ml-1">
                              <textarea class="form-control" rows="1" [(ngModel)]="marker.latitud" name="lat" placeholder="Latitud" required #lat="ngModel"></textarea>
                            </div>
                            <div class="form-group">
                              <textarea class="form-control" rows="1" [(ngModel)]="marker.longitud" name="lng" placeholder="Longitud" required #long="ngModel"></textarea>
                            </div>
                          </div>
                          <div *ngIf="marker.latitud==0 && marker.longitud==0" class="alert">
                            campo obligatorio
                          </div>
                        </div>

                        <div class="form-row mt-3">
                          <label>Link</label>
                          <input type="url" class="form-control" [(ngModel)]="marker.link" name="link" placeholder="Añade un link...">
                        </div>

                        <div>
                          <!-- <label class="mt-3">Adjuntar imagen</label> -->
                          <img src="{{imagenURL}}" id="imageContainer" class="img-responsive cortarImg">
                          <div id=inputbtn>
                            <input type="file" name="link" (change)="actualizarImagen($event.target.files)" placeholder="Adjunta un enlace...">
                          </div>
                        </div>

                        <div *ngIf="QRimage != null">
                          <!-- <button class="btn btn-primary mt-4" type="submit">Crear QR</button> -->
                          <img src={{QRimage}} id="imageContainer" class="img-responsive cortarImg">
                          <a href={{QRimage}} download>
                            <button type="button" id=btn-descarga class="btn btn-primary btn-lg">Descarga el QR</button>
                          </a>
                        </div>

                        <button *ngIf="QRimage == null" class="btn btn-primary mt-4" type="submit" (click)='create()'>Crear tag</button>

                      </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
  </section>
</div>
